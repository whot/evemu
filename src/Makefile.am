version_script = $(srcdir)/libevemu.ver

lib_LTLIBRARIES = libevemu.la

libevemu_la_LDFLAGS = \
	-version-info @LIB_VERSION@ \
	-Wl,-z,defs -Wl,--as-needed \
	-Wl,--version-script=$(version_script)

libevemu_la_CFLAGS = \
	-Wno-format

libevemu_la_SOURCES = \
	evemu-impl.h \
	evemu.c \
	version.h

INCLUDES = -I$(top_srcdir)/include/

libevemuincludedir = $(includedir)
libevemuinclude_HEADERS = \
	$(top_srcdir)/include/evemu.h

event-names.h: Makefile make-event-names.py
	$(srcdir)/make-event-names.py > $@

EXTRA_DIST = $(version_script) make-event-names.py
CLEANFILES = event-names.h
BUILT_SOURCES = event-names.h
